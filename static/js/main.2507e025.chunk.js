(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},23:function(e,t,a){},27:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),i=a.n(s),l=(a(23),a(1)),c=a(2),o=a(5),d=a(4),m=a(3),u=a(6),p=(a(24),a(25),a(27),a(8)),h=a.n(p),g=a(9),v=a.n(g),E=a(10),b=a.n(E),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={errorMessage:e.errorMessage},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("span",{className:this.props.errorMessage.length>0?"error-message show":"error-message"},this.props.errorMessage)}}]),t}(n.Component),y=function(){function e(t){Object(l.a)(this,e),this.pesel=t}return Object(c.a)(e,null,[{key:"validatePesel",value:function(e){if(e.length<=5)return{isValid:!1,errorMessage:""};if(e.length>5&&e.length<11)return{isValid:!1,errorMessage:"Zbyt kr\xf3tki numer"};if(e.length>11)return{isValid:!1,errorMessage:"Zbyt d\u0142ugi numer"};for(var t=[],a=0;a<11;a++)if(t[a]=parseInt(e.substring(a,a+1)),isNaN(t[a]))return{isValid:!1,errorMessage:"Dozwolone znaki: 0-9"};for(var n=[1,3,7,9,1,3,7,9,1,3,1],r=0,s=0;s<11;s++)r+=n[s]*t[s];if(r%10!==0)return{isValid:!1,errorMessage:"Numer nieprawid\u0142owy"};var i=1900+10*t[0]+t[1];t[2]>=2&&t[2]<8&&(i+=100*Math.floor(t[2]/2)),t[2]>=8&&(i-=100);var l=t[2]%2*10+t[3],c=10*t[4]+t[5];return function(e,t,a){var n=new Date(a,t-1,e);return n.getDate()===e&&n.getMonth()===t-1&&n.getFullYear()===a}(c,l,i)?{isValid:!0,errorMessage:"",date:{day:c,month:l=l<10?"0"+l:l,year:i},gender:t[9]%2===1?"M":"F"}:{isValid:!1,errorMessage:"Wygenerowana data jest nieprawid\u0142owa"}}}]),e}(),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handlePeselInput=function(e){var t=e.target.value,a=y.validatePesel(t);a.isValid?(this.props.setPatientBirthday(a.date),this.props.setPatientGender(a.gender)):this.props.setPatientGender(""),this.setState({pesel:t,peselErrorMessage:a.errorMessage})},a.state={peselErrorMessage:e.peselErrorMessage,pesel:e.pesel},a.handlePeselInput=a.handlePeselInput.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.pesel,a=this.state.peselErrorMessage;return r.a.createElement("div",{className:"input-wrapper pesel-wrapper"},r.a.createElement("span",{className:"input-label"},"Numer PESEL"),r.a.createElement("div",{className:"input-resetable"},r.a.createElement("input",{type:"tel",className:"input",value:t,onChange:this.handlePeselInput}),r.a.createElement("span",{className:"reset-button",onClick:function(){e.setState({pesel:""}),e.props.setPatientGender("")}},"X")),r.a.createElement(f,{errorMessage:a}))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).calculateAge=function(e){e="string"!==typeof e?e[0]:new Date(e);var t=Date.now()-e.getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)},a.state={pesel:"",patientBirthday:"1996-08-30",age:0,peselErrorMessage:"",gender:""},a.setPatientBirthday=a.setPatientBirthday.bind(Object(m.a)(a)),a.setPatientGender=a.setPatientGender.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setPatientBirthday",value:function(e){this.setState({patientBirthday:"".concat(e.year,"-").concat(e.month,"-").concat(e.day)})}},{key:"setPatientGender",value:function(e){this.setState({gender:e})}},{key:"render",value:function(){var e=this,t=this.state.pesel,a=this.state.patientBirthday,n=this.calculateAge(a),s=this.state.peselErrorMessage,i=this.state.gender;return r.a.createElement("div",{className:"age-today"},r.a.createElement("h2",{className:"content-title"},"Wiek na dzi\u015b - ",r.a.createElement("span",{className:"date"},r.a.createElement(v.a,{format:"DD.MM.YYYY"}))),r.a.createElement("div",{className:"date-age-wrapper"},r.a.createElement("div",{className:"dates"},r.a.createElement(N,{setPatientBirthday:this.setPatientBirthday,setPatientGender:this.setPatientGender,patientBirthday:a,pesel:t,peselErrorMessage:s}),r.a.createElement("span",{className:"or-wrapper"},"lub"),r.a.createElement("div",{className:"input-wrapper date-wrapper"},r.a.createElement("span",{className:"input-label"},"Data urodzenia"),r.a.createElement(h.a,{className:"input",value:a,onChange:function(t){e.setState({patientBirthday:t,age:e.calculateAge(t),pesel:""})}}))),r.a.createElement("div",{className:""!==i?"M"===i?"age male":"age female":"age"},r.a.createElement("div",{className:"gender-sign"},""!==i?"M"===i?"m\u0119\u017cczyzna \u2642":"kobieta \u2640":""),r.a.createElement("div",{className:"age-number"},r.a.createElement(b.a,{end:n})),r.a.createElement("div",{className:"age-text"},"wiek"))))}}]),t}(n.Component),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(d.a)(t).call(this))).calculateAge=function(e,t){e="string"!==typeof e?e[0]:new Date(e);var a=(t="string"!==typeof t?t[0]:new Date(t))-e.getTime(),n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)},e.state={pesel:"",peselErrorMessage:"",patientBirthday:"1996-08-30",examinationDate:"2019-08-30",age:0,gender:""},e.setPatientBirthday=e.setPatientBirthday.bind(Object(m.a)(e)),e.setPatientGender=e.setPatientGender.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setPatientBirthday",value:function(e){this.setState({patientBirthday:"".concat(e.year,"-").concat(e.month,"-").concat(e.day)})}},{key:"setPatientGender",value:function(e){this.setState({gender:e})}},{key:"render",value:function(){var e=this,t=this.state.pesel,a=this.state.patientBirthday,n=this.state.peselErrorMessage,s=this.state.examinationDate,i=this.calculateAge(a,s),l=this.state.gender;return r.a.createElement("div",{className:"age-past"},r.a.createElement("h2",{className:"content-title"},"Wiek na dzie\u0144 badania - ",r.a.createElement("span",{className:"date"},r.a.createElement(v.a,{format:"DD.MM.YYYY",date:"string"!==typeof s?s[0]:s}))),r.a.createElement("div",{className:"date-age-wrapper"},r.a.createElement("div",{className:"dates"},r.a.createElement(N,{setPatientBirthday:this.setPatientBirthday,setPatientGender:this.setPatientGender,patientBirthday:a,pesel:t,peselErrorMessage:n}),r.a.createElement("span",{className:"or-wrapper"},"lub"),r.a.createElement("div",{className:"input-wrapper date-wrapper"},r.a.createElement("span",{className:"input-label"},"Data urodzenia"),r.a.createElement(h.a,{className:"input",value:a,onChange:function(t){e.setState({patientBirthday:t,age:e.calculateAge(t,s)})}})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("span",{className:"input-label"},"Data badania"),r.a.createElement(h.a,{className:"input",value:s,onChange:function(t){e.setState({examinationDate:t,age:e.calculateAge(a,t)})}}))),r.a.createElement("div",{className:""!==l?"M"===l?"age male":"age female":"age"},r.a.createElement("div",{className:"gender-sign"},""!==l?"M"===l?"m\u0119\u017cczyzna \u2642":"kobieta \u2640":""),r.a.createElement("div",{className:"age-number"},r.a.createElement(b.a,{end:i})),r.a.createElement("div",{className:"age-text"},"wiek"))))}}]),t}(n.Component),j=a(17),M=a.n(j),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).renderCurrentPage=function(){return"today"===this.state.currentPage?r.a.createElement(w,null):r.a.createElement(P,null)},a.state={currentPage:"today"},a.handleNavigation=a.handleNavigation.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleNavigation",value:function(e){this.setState({currentPage:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement(M.a,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!0,transitionLeave:!0,className:"animation-container"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header-title"},"Wiek pacjent\xf3w"),r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{className:"today"===this.state.currentPage?"nav-btn active":"nav-btn",onClick:function(){return e.handleNavigation("today")}},"Wiek na dzisiaj"),r.a.createElement("button",{className:"past"===this.state.currentPage?"nav-btn active":"nav-btn",onClick:function(){return e.handleNavigation("past")}},"Wiek na dzie\u0144 badania"))),r.a.createElement("div",{className:"content"},this.renderCurrentPage())),r.a.createElement("footer",{className:"footer"},"\xa9 2019 ARTdent by",r.a.createElement("a",{href:"http://jacekgalka.pl?utm_source=artdent&utm_medium=footer-link"},"Jacek Ga\u0142ka",r.a.createElement("div",{className:"footer-border"})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.2507e025.chunk.js.map